name: bge_reranker_v2_m3
label: "BGE Reranker"
version: 1.0.0
description: "High-performance document reranking service using BAAI/bge-reranker-v2-m3 model."
type: reranker
icon: icon.svg
author: grafsamex
tags:
  - reranker
  - search
  - bge

# Entry points
entry_point: "main:rerank"
provider_class: "main:BGERerankerProvider"

# Endpoints
api_endpoint: "/rerank"
health_endpoint: "/health"

# Configuration schema
configuration:
  api_url:
    label: "API URL"
    type: string
    required: true
    default: "http://localhost:8009"
    help: "URL of the reranker API service"
  
  timeout:
    label: "Timeout"
    type: number
    required: false
    default: 30
    help: "Request timeout in seconds"

  top_k:
    label: "Top K"
    type: number
    required: false
    default: 5
    help: "Number of top results to return"

  input_format:
    label: "Input Format"
    type: select
    required: false
    default: "auto"
    options:
      - label: "Auto"
        value: "auto"
      - label: "Passages (API)"
        value: "passages"
      - label: "Documents (Dify)"
        value: "documents"

  output_format:
    label: "Output Format"
    type: select
    required: false
    default: "standard"
    options:
      - label: "Standard (with index)"
        value: "standard"
      - label: "Simple (no index)"
        value: "simple"

# Metadata
metadata:
  model: "BAAI/bge-reranker-v2-m3"
  supports_gpu: true
